<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     * https://leetcode.cn/problems/longest-substring-without-repeating-characters/solutions/3982/hua-dong-chuang-kou-by-powcai/?envType=study-plan-v2&envId=top-100-liked
     * 
     * 滑动窗口框架：
     * https://leetcode.cn/problems/find-all-anagrams-in-a-string/solutions/9749/hua-dong-chuang-kou-tong-yong-si-xiang-jie-jue-zi-/?envType=study-plan-v2&envId=top-100-liked
     */ 

    var lengthOfLongestSubstring = function(s) {
      if (!s.length) return 0;

      let map = new Map();
      let max = 0;
      let left = 0;

      for (let i = 0; i < s.length; i++) {
        if (map.has(s[i])) {
          left = Math.max(left, map.get(s[i]) + 1);
        }

        map.set(s[i], i);
        max = Math.max(max, i - left + 1);
      }

      return max;

      /**
       * 滑动窗口框架解法
       */ 
      // let map = new Map();

      // let left = 0;
      // let right = 0;
      // let max = 0;

      // while (right < s.length) {
      //   let rightCr = s[right];
      //   right++;

      //   map.set(rightCr, map.get(rightCr) ? map.get(rightCr) + 1 : 1);

      //   while (map.get(rightCr) > 1) {
      //     let leftCr = s[left];
      //     left++;

      //     map.set(leftCr, map.get(leftCr) ? map.get(leftCr) - 1 : 1);
      //   }

      //   max = Math.max(max, right - left);
      // }

      // return max;
    };
  </script>
</body>
</html>