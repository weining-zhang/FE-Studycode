<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /* 
      æ€è·¯ï¼šhttps://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/pythonjs-er-fen-fa-33-sou-suo-xuan-zhuan-pai-xu-sh/
      https://leetcode.cn/problems/search-in-rotated-sorted-array/solutions/5906/ji-jian-solution-by-lukelee/?envType=study-plan-v2&envId=top-100-liked
      é«˜èµè¯„è®º 2021.03.14ã€2020.04.29

      ğŸ§© ä¸€ã€é¢˜ç›®æè¿°

      ç»™å®šä¸€ä¸ª å‡åºæ’åˆ—ä½†è¢«æ—‹è½¬è¿‡çš„æ•°ç»„ numsï¼ˆå¯èƒ½æ—‹è½¬è‹¥å¹²æ¬¡ï¼‰ï¼Œ
      ä»¥åŠä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œ
      è¯·è¿”å› target çš„ä¸‹æ ‡ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚

      âš™ï¸ ä¾‹å¦‚ï¼š
      è¾“å…¥: nums = [4,5,6,7,0,1,2], target = 0
      è¾“å‡º: 4


      ğŸ§  äºŒã€æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ† + åˆ¤æ–­å“ªè¾¹æœ‰åº

      åœ¨æ™®é€šäºŒåˆ†ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ¯”è¾ƒ nums[mid] ä¸ target åˆ¤æ–­æ–¹å‘ã€‚
      ä½†åœ¨â€œæ—‹è½¬æ•°ç»„â€ä¸­ï¼Œä¸€åŠå¯èƒ½æ˜¯ä¹±çš„ã€‚

      æ‰€ä»¥ï¼š
        - æ¯æ¬¡å–ä¸­ç‚¹åï¼Œè¦åˆ¤æ–­å“ªä¸€è¾¹æ˜¯æœ‰åºçš„ï¼Œå†å†³å®š target åœ¨å“ªè¾¹ã€‚


      ğŸ§© ä¸‰ã€æ˜“é”™ç‚¹ï¼š

      1. æƒ…å†µ1ä¸­ä¸ºä»€ä¹ˆéœ€è¦ target <= nums[right]ï¼Œè€Œä¸èƒ½åªå†™ target > nums[mid] ï¼Ÿ

        åˆ¤æ–­å³åŠè¾¹æœ‰åºåï¼š
          - å³è¾¹çš„å€¼æ˜¯é€’å¢çš„ï¼›
          - åªæœ‰å½“ target è½åœ¨ (nums[mid], nums[right]] å†…æ—¶ï¼Œæ‰è¯¥å»å³è¾¹æ‰¾ï¼›
          - å¦åˆ™ target ä¸€å®šåœ¨å·¦è¾¹ï¼ˆæˆ–æ ¹æœ¬ä¸å­˜åœ¨ï¼‰ã€‚

     */
    function search(nums, target) {
      let left = 0;
      let right = nums.length - 1;

      while (left <= right) {
        let mid = Math.floor((left + right) / 2);

        // ğŸ¯ ç›´æ¥å‘½ä¸­
        if (nums[mid] === target) return mid;

        // âœ… æƒ…å†µ1ï¼šå³åŠéƒ¨åˆ†æ˜¯æœ‰åºçš„
        else if (nums[mid] < nums[right]) {
          // å¦‚æœ target åœ¨å³è¾¹çš„æœ‰åºåŒºé—´å†…
          if (target > nums[mid] && target <= nums[right]) {
            left = mid + 1;
          } else {
            right = mid - 1;
          }
        }

        // âœ… æƒ…å†µ2ï¼šå·¦åŠéƒ¨åˆ†æ˜¯æœ‰åºçš„
        else {
          // å¦‚æœ target åœ¨å·¦è¾¹çš„æœ‰åºåŒºé—´å†…
          if (target >= nums[left] && target < nums[mid]) {
            right = mid - 1;
          } else {
            left = mid + 1;
          }
        }
      }

      // âŒ æ²¡æ‰¾åˆ°
      return -1;
    }
  </script>
</body>
</html>