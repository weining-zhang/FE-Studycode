<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     * https://leetcode-cn.com/problems/merge-intervals/
     * 
     * è¿™æ˜¯é¢è¯•å¸¸è€ƒé¢˜ä¹‹ä¸€ï¼Œè€ƒå¯Ÿä½ å¯¹æ’åº + åŒºé—´åˆå¹¶é€»è¾‘çš„ç†è§£ã€‚
     * 
     * ğŸ§  æ ¸å¿ƒæ€è·¯

        ğŸ’¡ æ€è€ƒæ–¹å‘

        æˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼š
          1. å…ˆæŠŠæ‰€æœ‰åŒºé—´æŒ‰èµ·ç‚¹æ’åºã€‚
            å› ä¸ºåªæœ‰ç›¸é‚»çš„åŒºé—´æ‰å¯èƒ½é‡å ã€‚

          2. éå†æ‰€æœ‰åŒºé—´ï¼Œç”¨ä¸€ä¸ªå˜é‡ä¿å­˜å½“å‰åˆå¹¶åŒºé—´ã€‚
            - å¦‚æœæ–°åŒºé—´å’Œå½“å‰åŒºé—´æœ‰é‡å  â†’ åˆå¹¶å®ƒä»¬ï¼›
            - å¦‚æœæ²¡æœ‰é‡å  â†’ æŠŠå½“å‰åŒºé—´å­˜å…¥ç»“æœæ•°ç»„ï¼Œæ›´æ–°å½“å‰åŒºé—´ã€‚
     */

    var merge = function(intervals) {
      if (intervals.length === 0) return [];

      // âœ… 1. æŒ‰èµ·ç‚¹æ’åº
      intervals.sort((a, b) => a[0] - b[0]);

      let res = [];                  // å­˜æ”¾ç»“æœ
      let current = intervals[0];    // å½“å‰æ­£åœ¨åˆå¹¶çš„åŒºé—´

      // âœ… 2. ä»ç¬¬äºŒä¸ªåŒºé—´å¼€å§‹éå†
      for (let i = 1; i < intervals.length; i++) {
        let next = intervals[i];

        // ğŸ§© å¦‚æœæœ‰é‡å ï¼šåˆå¹¶åŒºé—´
        if (next[0] <= current[1]) {
          // å–å³ç«¯ç‚¹çš„æœ€å¤§å€¼
          current[1] = Math.max(current[1], next[1]);
        } 
        // ğŸš« æ²¡æœ‰é‡å ï¼šæ¨å…¥ç»“æœï¼Œå¹¶æ›´æ–°å½“å‰åŒºé—´
        else {
          res.push(current);
          current = next;
        }
      }

      // æœ€åä¸€ä¸ªåŒºé—´ä¹Ÿè¦åŠ å…¥ç»“æœ
      res.push(current);

      return res;
    };
  </script>
</body>
</html>