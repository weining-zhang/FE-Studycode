<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 1.防抖：触发后等待一段时间，如果期间再次触发，则重新计时。
    function debounce(fn, delay) {
      let timerId;

      return function(...args) {
        clearTimeout(timerId);

        timerId = setTimeout(() => {
          fn.apply(this, args)
        }, delay);
      }
    }

    // 2. 防抖plus（可配置是否立即执行
    function debounce(fn, delay, immediate) {
      let timerId;

      return function(...args) {
        let callNow = immediate && !timerId;

        clearTimeout(timerId);

        if (callNow) {
          fn.apply(this, args);
        }

        timerId = setTimeout(() => {
          timerId = null;

          !immediate && fn.apply(this, args);
        }, delay);
      }
    }
//-------------------------------------------------------------------------------------------
    // 练习区：




    // 2.节流：在一定时间内只执行一次，多次触发会被忽略。
    function throttle(fn, delay) {
      let lastTime = 0;

      return function(...args) {
        let curTime = new Date().getTime();

        if (curTime - lastTime >= delay) {
          fn.apply(this, args);

          lastTime = curTime;
        }
      }
    }
//-------------------------------------------------------------------------------------------
    // 练习区：




  </script>
</body>
</html>