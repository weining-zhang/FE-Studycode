<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    class EventBus {
      constructor() {
        // 存储事件和对应的订阅回调
        this.events = {}; // { eventName: [handler1, handler2, ...] }
      }

      // 订阅事件
      on(event, handler) {
        // 若事件不存在则初始化为空数组，然后 push handler
        (this.events[event] || (this.events[event] = [])).push(handler);
      }

      // 取消订阅事件
      off(event, handler) {
        if (!this.events[event]) return;
        // 过滤掉要取消的 handler
        this.events[event] = this.events[event].filter(h => h !== handler);
      }

      // 发布事件（支持传递任意参数）
      emit(event, ...args) {
        if (!this.events[event]) return;
        // 挨个触发订阅的回调
        this.events[event].forEach(handler => handler(...args));
      }
    }

    const bus = new EventBus();

    function onLogin(info) {
      console.log("收到登录事件：", info);
    }

    // 订阅事件
    bus.on("login", onLogin);

    // 发布事件
    bus.emit("login", { user: "Alice" });

    // 取消订阅
    bus.off("login", onLogin);

    // 再次发布（不会触发）
    bus.emit("login", { user: "Bob" });

//-------------------------------------------------------------------------------------------
    // 练习区：



  </script>
</body>

</html>